!function(){"use strict";Lampa.SettingsApi.addParam({component:"interface",param:{name:"logo_glav",type:"select",values:{1:"Скрыть",0:"Отображать"},default:"0"},field:{name:"Логотипы вместо названий",description:"Отображает логотипы фильмов вместо текста"}}),Lampa.SettingsApi.addParam({component:"interface",param:{name:"logo_lang",type:"select",values:{"":"Как в Lampa",ru:"Русский",en:"English",uk:"Українська",be:"Беларуская",kz:"Қазақша",pt:"Português",es:"Español",fr:"Français",de:"Deutsch",it:"Italiano"},default:""},field:{name:"Язык логотипа",description:"Приоритетный язык для поиска логотипа"}}),Lampa.SettingsApi.addParam({component:"interface",param:{name:"logo_size",type:"select",values:{w300:"w300",w500:"w500",w780:"w780",original:"Оригинал"},default:"original"},field:{name:"Размер логотипа",description:"Разрешение загружаемого изображения"}}),window.logoplugin||(window.logoplugin=!0,Lampa.Listener.follow("full",(function(e){if("complite"==e.type&&"1"!=Lampa.Storage.get("logo_glav")){var a=e.data.movie,t=a.name?"tv":"movie",o=e.object.activity.render().find(".full-start-new__title"),i=Lampa.Storage.get("logo_lang",""),l=i||Lampa.Storage.get("language"),n=Lampa.Storage.get("logo_size","original");if(""!=a.id){var s=Lampa.TMDB.api(t+"/"+a.id+"/images?api_key="+Lampa.TMDB.key()+"&include_image_language="+l+",en,null");$.get(s,(function(e){if(e.logos&&e.logos.length>0){for(var a=null,t=0;t<e.logos.length;t++)if(e.logos[t].iso_639_1==l){a=e.logos[t].file_path;break}if(!a)for(var i=0;i<e.logos.length;i++)if("en"==e.logos[i].iso_639_1){a=e.logos[i].file_path;break}if(!a&&e.logos[0]&&(a=e.logos[0].file_path),a){var s=Lampa.TMDB.image("/t/p/"+n+a.replace(".svg",".png")),g=new Image;g.src=s,g.style.marginTop="0.3em",g.style.marginLeft="0.05em",g.style.maxHeight="1.3em",g.style.maxWidth="9em",g.style.height="auto",g.style.width="auto",g.style.display="block",g.style.objectFit="contain",g.style.objectPosition="left bottom",g.onload=function(){o.css({opacity:"0",transition:"opacity 0.2s ease"}),setTimeout((function(){o.empty(),o.append(g),o.css("opacity","1")}),200)},g.onerror=function(){o.css("opacity","1")}}else o.css("opacity","1")}else o.css("opacity","1")})).fail((function(){o.css("opacity","1")}))}else o.css("opacity","1")}})))}();
